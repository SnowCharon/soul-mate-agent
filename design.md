# 灵魂伴侣 Agent 设计文档

## 项目概述
"灵魂伴侣"是一个智能推荐Agent，能够根据用户的个人需求、兴趣爱好和阅读偏好，推荐合适的书籍和文章。

## 核心功能

### 1. 用户画像管理
- 收集用户的阅读偏好（类型、主题、风格）
- 记录用户的兴趣领域
- 保存用户的阅读历史和评分
- 支持用户画像的动态更新

### 2. 智能推荐引擎
- 基于用户画像进行个性化推荐
- 支持多种推荐策略：
  - 基于内容的推荐（相似主题、作者、风格）
  - 基于协同过滤的推荐（相似用户喜好）
  - 混合推荐策略
- 实时搜索和推荐最新的优质内容

### 3. 内容源集成
- 集成Hugging Face数据集搜索（学术论文、研究资料）
- 集成网络搜索（最新文章、博客）
- 支持书籍数据库查询（豆瓣、Goodreads等）

### 4. 交互界面
- 命令行交互界面
- 支持自然语言对话
- 提供推荐结果的详细信息和理由

## 技术架构

### 核心组件
1. **UserProfile**: 用户画像管理模块
2. **RecommendationEngine**: 推荐引擎核心
3. **ContentFetcher**: 内容获取模块（集成MCP和搜索API）
4. **ConversationManager**: 对话管理模块
5. **LLMIntegration**: 大语言模型集成（使用OpenAI API）

### 技术栈
- Python 3.11+
- OpenAI API（GPT模型）
- Hugging Face MCP集成
- 网络搜索API
- JSON存储（用户数据持久化）

## 工作流程

1. 用户启动Agent
2. 首次使用：收集用户偏好信息
3. 用户提出需求（自然语言）
4. Agent分析需求并提取关键信息
5. 推荐引擎根据用户画像和需求生成推荐
6. 从多个内容源获取候选内容
7. LLM对候选内容进行筛选和排序
8. 向用户展示推荐结果和推荐理由
9. 收集用户反馈，更新用户画像

## 项目结构
```
soul-mate-agent/
├── README.md
├── requirements.txt
├── setup.py
├── soul_mate/
│   ├── __init__.py
│   ├── agent.py           # Agent主类
│   ├── user_profile.py    # 用户画像管理
│   ├── recommendation.py  # 推荐引擎
│   ├── content_fetcher.py # 内容获取
│   ├── llm_client.py      # LLM客户端
│   └── utils.py           # 工具函数
├── data/
│   └── user_profiles/     # 用户数据存储
├── examples/
│   └── demo.py            # 使用示例
└── tests/
    └── test_agent.py      # 测试用例
```

## 特色功能

### 1. 深度理解用户需求
使用LLM深度分析用户的自然语言描述，提取：
- 主题关键词
- 情感倾向
- 难度级别
- 阅读目的（学习、娱乐、研究等）

### 2. 多维度推荐理由
为每个推荐提供详细的理由：
- 为什么适合用户
- 内容亮点
- 适合阅读的场景
- 预计阅读时长

### 3. 持续学习
- 记录用户的反馈（喜欢/不喜欢）
- 动态调整推荐策略
- 发现用户的潜在兴趣

## 使用场景示例

**场景1：寻找专业学习资料**
> 用户："我想学习机器学习的基础知识，有什么适合初学者的书籍推荐吗？"
> Agent：分析用户需求 → 推荐《Python机器学习》《统计学习方法》等 → 提供推荐理由

**场景2：寻找休闲阅读**
> 用户："最近工作压力大，想看一些轻松治愈的小说"
> Agent：分析情感需求 → 推荐治愈系文学作品 → 说明为何能缓解压力

**场景3：探索新领域**
> 用户："我对量子计算感兴趣，但完全不了解，有什么入门文章吗？"
> Agent：搜索最新文章 → 筛选入门级内容 → 按难度排序推荐
